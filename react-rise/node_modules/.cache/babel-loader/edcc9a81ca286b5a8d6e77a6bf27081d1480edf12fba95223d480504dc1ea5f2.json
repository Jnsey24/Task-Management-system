{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SIDHARTHA\\\\Documents\\\\RISEUP\\\\react-rise\\\\src\\\\pages\\\\tassk.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Dashboard from \"./dashboard\";\nimport Description from \"../components/taskscomponents/Description\";\nimport Note from \"../components/taskscomponents/Note\";\nimport Footer from \"../components/taskscomponents/Footer\";\nimport Task from \"../components/taskscomponents/tasks\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Tassk() {\n  _s();\n  const [colorno, setColor] = useState(0);\n  const [tasks, settasks] = useState([]);\n  const [error, setError] = useState(\"\");\n  const changecolor = () => {\n    setColor(prev => !prev);\n  };\n  const bodycolor = {\n    backgroundColor: colorno ? \"black\" : \"#f1f4dc\",\n    color: colorno ? \"white\" : \"black\",\n    height: \"100vh\"\n  };\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await axios.get('/api/tasks');\n        settasks(response.data);\n      } catch (error) {\n        console.error('Error fetching tasks:', error);\n        setError('Failed to fetch tasks.Please Login');\n      }\n    })();\n  }, []);\n  function addtask(task) {\n    settasks(prev => {\n      return [...prev, {\n        ...task,\n        id: prev.length,\n        isFixed: false\n      }];\n    });\n    (async () => {\n      try {\n        const params = new URLSearchParams({\n          title: task.title,\n          alarm: task.alarm\n        });\n        await axios.post('/api/tasks', params);\n      } catch (error) {\n        console.error('Error adding task:', error);\n      }\n    })();\n  }\n  function handledelete(id) {\n    settasks(prev => {\n      return prev.filter(item => item.id !== id);\n    });\n  }\n  async function deletepermanent(id) {\n    try {\n      await axios.delete('/api/tasks', {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: {\n          id\n        }\n      });\n      handledelete(id);\n    } catch (error) {\n      console.error('Error deleting task:', error);\n      setError('Failed to delete task');\n      setTimeout(() => setError(''), 3000); // Clear error message after 3 seconds\n    }\n  }\n  function handledone(id) {\n    const task = tasks.find(task => task.id === id);\n    const timeoftask = task.alarm;\n    const date = new Date();\n    const currentHours = date.getHours();\n    const currentMinutes = date.getMinutes();\n    const [taskTime, period] = timeoftask.split(\" \");\n    const [taskHours, taskMinutes] = taskTime.split(\":\").map(Number);\n    let taskHours24 = taskHours;\n    if (period.toLowerCase() === \"pm\" && taskHours < 12) {\n      taskHours24 += 12;\n    } else if (period.toLowerCase() === \"am\" && taskHours === 12) {\n      taskHours24 = 0;\n    }\n    const currentTimeInMinutes = currentHours * 60 + currentMinutes;\n    const taskTimeInMinutes = taskHours24 * 60 + taskMinutes;\n    const timeDifference = currentTimeInMinutes - taskTimeInMinutes;\n    if (timeDifference < 0) {\n      setError(\"Sorry! Still time is there\");\n      setTimeout(() => setError(\"\"), 3000); // Clear error message after 3 seconds\n    } else if (timeDifference <= 10) {\n      handledelete(id);\n    } else {\n      setError(\"Sorry! It's too late\");\n      setTimeout(() => setError(\"\"), 3000); // Clear error message after 3 seconds\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: bodycolor,\n    children: [/*#__PURE__*/_jsxDEV(Dashboard, {\n      oncolor: changecolor,\n      className: \"container\",\n      colorno: colorno\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Description, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Task, {\n      addnew: addtask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), tasks.map((item, index) => /*#__PURE__*/_jsxDEV(Note, {\n      id: item.id,\n      title: item.title,\n      alarm: item.alarm,\n      isFixed: item.isFixed,\n      ondelete: deletepermanent,\n      oncheck: handledone\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this)), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n_s(Tassk, \"W5p0/RpDtLG43TwhSaMWwhkWCJU=\");\n_c = Tassk;\nexport default Tassk;\nvar _c;\n$RefreshReg$(_c, \"Tassk\");","map":{"version":3,"names":["React","useState","useEffect","Dashboard","Description","Note","Footer","Task","axios","jsxDEV","_jsxDEV","Tassk","_s","colorno","setColor","tasks","settasks","error","setError","changecolor","prev","bodycolor","backgroundColor","color","height","response","get","data","console","addtask","task","id","length","isFixed","params","URLSearchParams","title","alarm","post","handledelete","filter","item","deletepermanent","delete","headers","setTimeout","handledone","find","timeoftask","date","Date","currentHours","getHours","currentMinutes","getMinutes","taskTime","period","split","taskHours","taskMinutes","map","Number","taskHours24","toLowerCase","currentTimeInMinutes","taskTimeInMinutes","timeDifference","style","children","oncolor","className","fileName","_jsxFileName","lineNumber","columnNumber","addnew","index","ondelete","oncheck","_c","$RefreshReg$"],"sources":["C:/Users/SIDHARTHA/Documents/RISEUP/react-rise/src/pages/tassk.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Dashboard from \"./dashboard\";\r\nimport Description from \"../components/taskscomponents/Description\";\r\nimport Note from \"../components/taskscomponents/Note\";\r\nimport Footer from \"../components/taskscomponents/Footer\";\r\nimport Task from \"../components/taskscomponents/tasks\";\r\nimport axios from 'axios';\r\n\r\nfunction Tassk() {\r\n  const [colorno, setColor] = useState(0);\r\n  const [tasks, settasks] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const changecolor = () => {\r\n    setColor((prev) => !prev);\r\n  };\r\n\r\n  const bodycolor = {\r\n    backgroundColor: colorno ? \"black\" : \"#f1f4dc\",\r\n    color: colorno ? \"white\" : \"black\",\r\n    height: \"100vh\",\r\n  };\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await axios.get('/api/tasks');\r\n        settasks(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching tasks:', error);\r\n        setError('Failed to fetch tasks.Please Login');\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  function addtask(task) {\r\n    settasks((prev) => {return [...prev, { ...task, id: prev.length, isFixed: false }]});\r\n  \r\n    (async () => {\r\n      try {\r\n        const params = new URLSearchParams({\r\n          title: task.title,\r\n          alarm: task.alarm\r\n        });\r\n  \r\n       await axios.post('/api/tasks', params);\r\n      } catch (error) {\r\n        console.error('Error adding task:', error);\r\n      }\r\n    })();\r\n  }\r\n\r\n  function handledelete(id) {\r\n    settasks((prev) => {\r\n      return prev.filter((item) => item.id !== id);\r\n    });\r\n\r\n  }\r\n\r\n  async function deletepermanent(id) {\r\n    try {\r\n      await axios.delete('/api/tasks',{\r\n        headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      data: { id }\r\n    });\r\n      handledelete(id);\r\n    } catch (error) {\r\n      console.error('Error deleting task:', error);\r\n      setError('Failed to delete task');\r\n      setTimeout(() => setError(''), 3000); // Clear error message after 3 seconds\r\n    }\r\n  }\r\n\r\n  function handledone(id) {\r\n    const task = tasks.find((task) => task.id === id);\r\n    const timeoftask = task.alarm;\r\n\r\n    const date = new Date();\r\n    const currentHours = date.getHours();\r\n    const currentMinutes = date.getMinutes();\r\n\r\n    const [taskTime, period] = timeoftask.split(\" \");\r\n    const [taskHours, taskMinutes] = taskTime.split(\":\").map(Number);\r\n\r\n    let taskHours24 = taskHours;\r\n    if (period.toLowerCase() === \"pm\" && taskHours < 12) {\r\n      taskHours24 += 12;\r\n    } else if (period.toLowerCase() === \"am\" && taskHours === 12) {\r\n      taskHours24 = 0;\r\n    }\r\n\r\n    const currentTimeInMinutes = currentHours * 60 + currentMinutes;\r\n    const taskTimeInMinutes = taskHours24 * 60 + taskMinutes;\r\n\r\n    const timeDifference = currentTimeInMinutes - taskTimeInMinutes;\r\n\r\n    if (timeDifference < 0) {\r\n      setError(\"Sorry! Still time is there\");\r\n      setTimeout(() => setError(\"\"), 3000); // Clear error message after 3 seconds\r\n    } else if (timeDifference <= 10) {\r\n      handledelete(id);\r\n    } else {\r\n      setError(\"Sorry! It's too late\");\r\n      setTimeout(() => setError(\"\"), 3000); // Clear error message after 3 seconds\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={bodycolor}>\r\n      <Dashboard oncolor={changecolor} className=\"container\" colorno={colorno} />\r\n      <Description />\r\n      <Task addnew={addtask} />\r\n      {tasks.map((item, index) => (\r\n        <Note\r\n          key={index}\r\n          id={item.id}\r\n          title={item.title}\r\n          alarm={item.alarm}\r\n          isFixed={item.isFixed}\r\n          ondelete={deletepermanent}\r\n          oncheck={handledone}\r\n        />\r\n      ))}\r\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Tassk;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}